"use strict";(globalThis.webpackChunkwp_apexlink=globalThis.webpackChunkwp_apexlink||[]).push([[139],{50139(e,t,a){a.r(t),a.d(t,{default:()=>x});var r=a(51609),n=a(86087),l=a(27723),i=a(48635),s=a(18931),o=a(34067),c=a(79804),d=a(8723),m=a(46110),g=a(90888),p=a(54791);const x=({darkMode:e})=>{const[t,a]=(0,n.useState)(null),[x,y]=(0,n.useState)(""),[h,u]=(0,n.useState)([]),[b,w]=(0,n.useState)(!1),[f,k]=(0,n.useState)([]),[N,E]=(0,n.useState)(!1),[v,_]=(0,n.useState)(null),[A,S]=(0,n.useState)([]),[j,C]=(0,n.useState)(!1),[T,D]=(0,n.useState)(!1),P=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1",$=async()=>{if(x){w(!0);try{const e=await fetch(`${P}/search?q=${encodeURIComponent(x)}`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),t=await e.json();u(Array.isArray(t)?t:[])}catch(e){g.Ay.error((0,l.__)("Error searching for posts.","wp-apexlink"))}finally{w(!1)}}},L=e=>{a(e),u([]),y(""),I(e.id||e.ID)},I=async e=>{E(!0);try{const t=await fetch(`${P}/magnet/candidates?post_id=${e}`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),a=await t.json();k(Array.isArray(a)?a:[])}catch(e){g.Ay.error((0,l.__)("Error fetching inbound candidates.","wp-apexlink"))}finally{E(!1)}};return(0,n.useEffect)(()=>{t||(async()=>{C(!0);try{const e=await fetch(`${P}/magnet/suggestions`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),t=await e.json();S(Array.isArray(t)?t:[])}catch{}finally{C(!1)}})()},[t]),(0,r.createElement)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500"},(0,r.createElement)("div",{className:`p-8 rounded-3xl border ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-sm"} relative overflow-hidden`},(0,r.createElement)("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6"},(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"flex items-center gap-3 mb-2"},(0,r.createElement)("div",{className:"p-2 bg-indigo-500 rounded-xl text-white shadow-lg shadow-indigo-500/20"},(0,r.createElement)(o.A,{className:"w-6 h-6"})),(0,r.createElement)("h1",{className:"text-2xl font-black "+(e?"text-white":"text-gray-900")},(0,l.__)("The Magnet","wp-apexlink"))),(0,r.createElement)("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"} max-w-xl`},(0,l.__)('Reverse your internal linking. Select a high-value post and "pull" authoritative inbound links from relevant pages across your entire site automatically.',"wp-apexlink"))),t?(0,r.createElement)("div",{className:"flex items-center gap-4 p-4 rounded-2xl border "+(e?"bg-indigo-900/20 border-indigo-500/30":"bg-indigo-50 border-indigo-100")},(0,r.createElement)("div",{className:"flex flex-col"},(0,r.createElement)("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-500 leading-none mb-1"},(0,l.__)("Current Magnet","wp-apexlink")),(0,r.createElement)("h3",{className:"font-bold text-sm "+(e?"text-white":"text-indigo-900")},t.title)),(0,r.createElement)("button",{onClick:()=>a(null),className:"p-2 rounded-xl text-xs font-bold transition-all "+(e?"hover:bg-gray-700 text-gray-400":"hover:bg-white text-gray-500 shadow-sm")},(0,l.__)("Change","wp-apexlink"))):(0,r.createElement)("div",{className:"flex gap-2 max-w-md w-full"},(0,r.createElement)("input",{type:"text",value:x,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&$(),onFocus:()=>D(!0),onBlur:()=>setTimeout(()=>D(!1),200),placeholder:(0,l.__)("Search target post...","wp-apexlink"),className:"flex-grow rounded-xl border-none ring-1 focus:ring-2 focus:ring-indigo-500 transition-all "+(e?"bg-gray-700 ring-gray-600 text-white":"bg-gray-50 ring-gray-200 text-gray-900")}),T&&!x&&A.length>0&&(0,r.createElement)("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 p-4 border rounded-2xl shadow-2xl animate-in fade-in zoom-in-95 duration-200 "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)("div",{className:"flex items-center gap-2 mb-3"},(0,r.createElement)(m.A,{className:"w-4 h-4 text-indigo-500"}),(0,r.createElement)("span",{className:"text-[10px] font-black uppercase tracking-widest "+(e?"text-gray-400":"text-gray-500")},(0,l.__)("Suggested Targets","wp-apexlink"))),(0,r.createElement)("div",{className:"space-y-2"},A.map(t=>(0,r.createElement)("button",{key:t.id,onClick:()=>L(t),className:"w-full text-left p-3 rounded-xl transition-all flex items-center justify-between group "+(e?"hover:bg-gray-700":"hover:bg-gray-50")},(0,r.createElement)("div",{className:"flex flex-col"},(0,r.createElement)("span",{className:"font-bold text-sm "+(e?"text-gray-200":"text-gray-700")},t.title),(0,r.createElement)("span",{className:"text-[10px] text-emerald-500 font-bold uppercase"},(0,l.__)("High Authority / Needs Links","wp-apexlink"))),(0,r.createElement)(i.A,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all text-indigo-500"}))))),(0,r.createElement)("button",{onClick:$,disabled:b,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-500/20"},b?(0,r.createElement)(d.A,{className:"w-5 h-5 animate-spin"}):(0,l.__)("Find Target","wp-apexlink")))),h.length>0&&(0,r.createElement)("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 p-4 border rounded-2xl shadow-2xl animate-in fade-in zoom-in-95 duration-200 "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)("div",{className:"space-y-2"},h.map(t=>(0,r.createElement)("button",{key:t.ID,onClick:()=>L(t),className:"w-full text-left p-3 rounded-xl transition-all flex items-center justify-between group "+(e?"hover:bg-gray-700":"hover:bg-gray-50")},(0,r.createElement)("span",{className:"font-bold text-sm "+(e?"text-gray-200":"text-gray-700")},t.title),(0,r.createElement)(i.A,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all text-indigo-500"})))))),t&&(0,r.createElement)("div",{className:"grid grid-cols-1 gap-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h2",{className:"text-lg font-black uppercase tracking-widest "+(e?"text-gray-400":"text-gray-500")},(0,l.__)("Inbound Opportunities","wp-apexlink")),f.length>0&&(0,r.createElement)("button",{onClick:async()=>{const e=f.slice(0,5);if(0===e.length)return;g.Ay.loading((0,l.__)("Applying batch links...","wp-apexlink"),{id:"batch-magnet"});let a=0;for(const r of e)try{const e=await fetch(`${P}/magnet/apply`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({source_id:r.post_id,target_id:t.id||t.ID,anchor:t.title})});(await e.json()).success&&a++}catch(e){}g.Ay.success(`${a} ${(0,l.__)("links created successfully!","wp-apexlink")}`,{id:"batch-magnet"}),I(t.id||t.ID)},className:"flex items-center gap-2 px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/20 transition-all active:scale-95"},(0,r.createElement)(c.A,{className:"w-4 h-4"}),(0,l.__)("One-Click Add (Top 5)","wp-apexlink"))),N?(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},[1,2,3,4].map(t=>(0,r.createElement)("div",{key:t,className:"h-32 rounded-3xl animate-pulse "+(e?"bg-gray-800":"bg-gray-100")}))):f.length>0?(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},f.map(a=>(0,r.createElement)("div",{key:a.post_id,className:"p-6 rounded-3xl border group transition-all hover:shadow-xl "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-sm hover:border-indigo-100")},(0,r.createElement)("div",{className:"flex justify-between items-start mb-4"},(0,r.createElement)("div",{className:"flex items-center gap-2"},(0,r.createElement)("div",{className:"px-3 py-1 bg-indigo-500/10 text-indigo-500 text-[10px] font-black rounded-full border border-indigo-500/20"},(0,l.__)("High Authority","wp-apexlink")),(0,r.createElement)("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400"},"Score: ",Math.round(100*a.score),"%")),(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg transition-all "+(e?"hover:bg-gray-700 text-gray-500":"hover:bg-gray-50 text-gray-400")},(0,r.createElement)(s.A,{className:"w-4 h-4"})))),(0,r.createElement)("h4",{className:"font-bold mb-4 "+(e?"text-white":"text-gray-900")},a.title),(0,r.createElement)("div",{className:"flex items-center justify-between mt-auto"},(0,r.createElement)("div",{className:"flex items-center text-xs text-gray-500 italic"},(0,r.createElement)(i.A,{className:"w-3 h-3 mr-1 text-indigo-500"}),(0,l.__)("Will use anchor:","wp-apexlink"),' "',t.title,'"'),(0,r.createElement)("button",{onClick:()=>(async e=>{_(e.post_id);try{const a=await fetch(`${P}/magnet/apply`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({source_id:e.post_id,target_id:t.id||t.ID,anchor:t.title})}),r=await a.json();r.success?(g.Ay.success((0,l.__)("Inbound link created!","wp-apexlink")),k(t=>t.filter(t=>t.post_id!==e.post_id))):g.Ay.error(r.message||(0,l.__)("Failed to create link.","wp-apexlink"))}catch(e){g.Ay.error((0,l.__)("An error occurred.","wp-apexlink"))}finally{_(null)}})(a),disabled:v===a.post_id,className:"flex items-center gap-2 px-5 py-2 rounded-xl text-xs font-bold transition-all "+(e?"bg-indigo-500 hover:bg-indigo-600 text-white":"bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white shadow-sm")},v===a.post_id?(0,r.createElement)(d.A,{className:"w-3 h-3 animate-spin"}):(0,r.createElement)(o.A,{className:"w-3 h-3"}),(0,l.__)("Pull Link","wp-apexlink")))))):(0,r.createElement)(p.A,{type:"magnet",title:(0,l.__)("No Pull Opportunities","wp-apexlink"),description:(0,l.__)("We couldn't find any relevant posts to pull links from for this target. Try adjusting your target keywords.","wp-apexlink"),darkMode:e})),!t&&(0,r.createElement)("div",{className:"p-16 rounded-[3rem] border-2 border-dashed flex flex-col items-center text-center justify-center "+(e?"bg-gray-900/20 border-gray-800":"bg-gray-50/50 border-gray-100")},(0,r.createElement)(o.A,{className:"w-16 h-16 text-indigo-500 mb-6 opacity-30 animate-bounce"}),(0,r.createElement)("h2",{className:"text-xl font-black mb-2 "+(e?"text-white":"text-gray-900")},(0,l.__)("Start Pulling Authority","wp-apexlink")),(0,r.createElement)("p",{className:"text-sm text-gray-500 max-w-sm"},(0,l.__)("Search for an important page above to see where else on your site you should be linking to it from.","wp-apexlink"))))}},54791(e,t,a){a.d(t,{A:()=>m});var r=a(51609),n=a(27723),l=a(94945),i=a(64905),s=a(38637),o=a(34067),c=a(98445),d=a(46110);const m=({type:e="default",title:t,description:a,action:m,darkMode:g})=>{const p={suggestions:s.A,search:c.A,ai:d.A,magnet:o.A,reports:l.A,default:i.A},x=p[e]||p.default;return(0,r.createElement)("div",{className:"flex flex-col items-center justify-center p-12 text-center animate-in fade-in slide-in-from-bottom-4 duration-700 "+(g?"text-gray-400":"text-gray-500")},(0,r.createElement)("div",{className:"relative mb-8"},(0,r.createElement)("div",{className:"absolute inset-0 scale-150 blur-3xl opacity-20 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 "+(g?"opacity-10":"opacity-20")}),(0,r.createElement)("div",{className:"relative w-24 h-24 rounded-3xl flex items-center justify-center transform rotate-6 hover:rotate-0 transition-transform duration-500 shadow-2xl border "+(g?"bg-gray-800 border-gray-700 text-indigo-400":"bg-white border-gray-100 text-indigo-600")},(0,r.createElement)(x,{className:"w-12 h-12"})),(0,r.createElement)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-amber-400 rounded-full animate-bounce delay-75 shadow-lg shadow-amber-400/50"}),(0,r.createElement)("div",{className:"absolute -bottom-1 -left-4 w-4 h-4 bg-emerald-400 rounded-lg animate-pulse shadow-lg shadow-emerald-400/50 rotate-12"})),(0,r.createElement)("h3",{className:"text-2xl font-black mb-3 "+(g?"text-white":"text-gray-900")},t||(0,n.__)("All Clear!","wp-apexlink")),(0,r.createElement)("p",{className:"max-w-md text-lg mb-8 leading-relaxed"},a||(0,n.__)("There is currently nothing to show here. Sit back and relax while ApexLink prepares your link graph.","wp-apexlink")),m&&(0,r.createElement)("div",{className:"animate-in fade-in zoom-in delay-300 fill-mode-both"},m))}},64905(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]])},79804(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},98445(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);