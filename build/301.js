"use strict";(globalThis.webpackChunkwp_apexlink=globalThis.webpackChunkwp_apexlink||[]).push([[301],{44301(e,t,a){a.r(t),a.d(t,{default:()=>u});var n=a(51609),r=a(27723),s=a(86087),l=a(33930),c=a(97665),i=a(57097),o=a(18931),d=a(97213),m=a(76316),p=a(37946),x=a(79804),g=a(8723),y=a(44653),w=a(86279),h=a(45721),k=a(90888);const u=({darkMode:e})=>{const t=(0,c.jE)(),a=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1";(0,s.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("code");e&&(f.mutate(e),window.history.replaceState({},document.title,window.location.pathname+window.location.search.split("&code=")[0]))},[]);const{data:u}=(0,l.I)({queryKey:["settings"],queryFn:async()=>(await fetch(`${a}/settings`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json()}),{data:b,isLoading:E,isError:N}=(0,l.I)({queryKey:["revenue-report"],queryFn:async()=>{const e=await fetch(`${a}/gsc/revenue-report`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}});if(401===e.status||403===e.status)throw new Error("Unauthorized");return e.json()},enabled:!!u?.apexlink_gsc_connected}),f=(0,i.n)({mutationFn:async e=>(await fetch(`${a}/gsc/exchange-code`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({code:e})})).json(),onSuccess:e=>{e.success?(k.Ay.success((0,r.__)("Google Search Console connected!","wp-apexlink")),t.invalidateQueries(["settings"]),t.invalidateQueries(["revenue-report"])):k.Ay.error((0,r.__)("Failed to connect GSC.","wp-apexlink"))}}),_=async()=>{try{const e=await fetch(`${a}/gsc/auth-url`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),t=await e.json();t.url?window.location.href=t.url:k.Ay.error((0,r.__)("Client ID missing in settings.","wp-apexlink"))}catch(e){k.Ay.error((0,r.__)("Failed to get auth URL.","wp-apexlink"))}};return u?.apexlink_gsc_connected?(0,n.createElement)("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500"},(0,n.createElement)("div",{className:"flex items-center justify-between"},(0,n.createElement)("div",{className:"space-y-1"},(0,n.createElement)("h2",{className:"text-3xl font-black "+(e?"text-white":"text-gray-900")},(0,r.__)("Revenue Report","wp-apexlink")),(0,n.createElement)("p",{className:"text-gray-500"},(0,r.__)("Striking Distance SEO Opportunities (Page 2 Rankings)","wp-apexlink"))),(0,n.createElement)("div",{className:"flex items-center space-x-2 bg-emerald-500/10 text-emerald-500 px-4 py-2 rounded-xl text-xs font-bold border border-emerald-500/20"},(0,n.createElement)(x.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("GSC Connected & Syncing","wp-apexlink"))),E?(0,n.createElement)("div",{className:"p-20 text-center text-gray-400"},(0,n.createElement)(g.A,{className:"w-12 h-12 animate-spin mx-auto mb-4"}),(0,n.createElement)("p",{className:"font-bold"},(0,r.__)("Analyzing performance data...","wp-apexlink"))):N?(0,n.createElement)("div",{className:"p-12 rounded-3xl border border-red-500/20 bg-red-500/5 text-center space-y-4"},(0,n.createElement)(p.A,{className:"w-12 h-12 text-red-500 mx-auto"}),(0,n.createElement)("h3",{className:"text-xl font-bold text-red-500"},(0,r.__)("Sync Error","wp-apexlink")),(0,n.createElement)("p",{className:"text-gray-400"},(0,r.__)("Failed to fetch data from GSC. Your token may have expired or the API is unreachable.","wp-apexlink")),(0,n.createElement)("button",{onClick:_,className:"px-6 py-2 bg-red-500 text-white rounded-xl font-bold"},(0,r.__)("Reconnect","wp-apexlink"))):(0,n.createElement)("div",{className:"grid grid-cols-1 gap-6"},(0,n.createElement)("div",{className:"rounded-3xl border overflow-x-auto overflow-y-hidden "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-sm")},(0,n.createElement)("table",{className:"w-full text-left"},(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:`border-bottom ${e?"bg-gray-700/50 border-gray-700":"bg-gray-50 border-gray-100"} border-b`},(0,n.createElement)("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-gray-500"},(0,r.__)("Target Keyword","wp-apexlink")),(0,n.createElement)("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-gray-500"},(0,r.__)("Page URL","wp-apexlink")),(0,n.createElement)("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-gray-500 text-center"},(0,r.__)("Position","wp-apexlink")),(0,n.createElement)("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-gray-500 text-center"},(0,r.__)("Trending","wp-apexlink")),(0,n.createElement)("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-gray-500 text-center"},(0,r.__)("Impressions","wp-apexlink")),(0,n.createElement)("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-gray-500 text-right"},(0,r.__)("Action","wp-apexlink")))),(0,n.createElement)("tbody",{className:"divide-y "+(e?"divide-gray-700":"divide-gray-100")},b?.map((t,a)=>(0,n.createElement)("tr",{key:a,className:"hover:bg-indigo-500/5 transition-colors"},(0,n.createElement)("td",{className:"px-6 py-4 transition-all"},(0,n.createElement)("div",{className:"flex items-center space-x-2"},(0,n.createElement)("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),(0,n.createElement)("span",{className:"font-bold "+(e?"text-gray-200":"text-gray-800")},t.query))),(0,n.createElement)("td",{className:"px-6 py-4 max-w-md"},(0,n.createElement)("p",{className:"text-xs text-gray-500 truncate"},t.page)),(0,n.createElement)("td",{className:"px-6 py-4 text-center"},(0,n.createElement)("span",{className:"px-3 py-1 rounded-lg text-xs font-black "+(e?"bg-gray-700 text-indigo-400":"bg-indigo-50 text-indigo-600")},t.position)),(0,n.createElement)("td",{className:"px-6 py-4 text-center min-w-[100px]"},(0,n.createElement)("div",{className:"h-8 w-full"},(0,n.createElement)(y.u,{width:"100%",height:"100%"},(0,n.createElement)(h.b,{data:Array.from({length:7},()=>({value:Math.floor(100*Math.random())}))},(0,n.createElement)(w.N,{type:"monotone",dataKey:"value",stroke:t.position<15?"#10b981":"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}))))),(0,n.createElement)("td",{className:"px-6 py-4 text-center"},(0,n.createElement)("span",{className:"font-mono text-xs text-gray-500"},t.impressions.toLocaleString())),(0,n.createElement)("td",{className:"px-6 py-4 text-right"},(0,n.createElement)("a",{href:t.page,target:"_blank",rel:"noopener noreferrer",className:"p-2 inline-block rounded-xl hover:bg-indigo-500/10 transition-all "+(e?"text-gray-400 hover:text-indigo-400":"text-gray-400 hover:text-indigo-600")},(0,n.createElement)(o.A,{className:"w-4 h-4"}))))))),0===b?.length&&(0,n.createElement)("div",{className:"p-12 text-center text-gray-500"},(0,r.__)("No keywords found in position 11-20. Keep checking!","wp-apexlink"))),(0,n.createElement)("div",{className:"p-6 rounded-3xl border border-indigo-500/20 bg-indigo-500/5 flex items-start space-x-4"},(0,n.createElement)("div",{className:"p-3 bg-indigo-500 rounded-2xl shadow-lg shadow-indigo-500/20"},(0,n.createElement)(d.A,{className:"w-6 h-6 text-white"})),(0,n.createElement)("div",{className:"space-y-1"},(0,n.createElement)("h4",{className:"font-bold "+(e?"text-white":"text-gray-900")},(0,r.__)("How to use this report","wp-apexlink")),(0,n.createElement)("p",{className:"text-sm text-gray-500 leading-relaxed"},(0,r.__)("The keywords listed above are ranking on the second page of Google. By creating internal links with these keywords as anchor text, you signal to Google that these pages are highly relevant. ApexLink has already boosted the internal score for these keywords in your Suggestions Inbox.","wp-apexlink")))))):(0,n.createElement)("div",{className:"max-w-4xl mx-auto py-12 px-6 text-center space-y-8 animate-in fade-in zoom-in-95 duration-500"},(0,n.createElement)("div",{className:"p-4 bg-indigo-500/10 w-fit mx-auto rounded-full"},(0,n.createElement)(m.A,{className:"w-12 h-12 text-indigo-500"})),(0,n.createElement)("div",{className:"space-y-3"},(0,n.createElement)("h2",{className:"text-4xl font-black "+(e?"text-white":"text-gray-900")},(0,r.__)("Revenue Flow Intelligence","wp-apexlink")),(0,n.createElement)("p",{className:"text-lg max-w-2xl mx-auto "+(e?"text-gray-400":"text-gray-600")},(0,r.__)('Connect Google Search Console to identify keywords in "Striking Distance" (Page 2). Link to these pages to boost them to the first page and unlock organic revenue.',"wp-apexlink"))),(0,n.createElement)("div",{className:"p-8 rounded-3xl border "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-xl")},(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10"},(0,n.createElement)("div",{className:"space-y-2"},(0,n.createElement)("div",{className:"text-2xl font-black text-indigo-500"},"11-20"),(0,n.createElement)("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500"},(0,r.__)("Avg Position","wp-apexlink")),(0,n.createElement)("p",{className:"text-xs text-gray-400"},(0,r.__)("Pages sitting on page 2 of Google.","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-2"},(0,n.createElement)("div",{className:"text-2xl font-black text-emerald-500"},"50%"),(0,n.createElement)("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500"},(0,r.__)("Score Boost","wp-apexlink")),(0,n.createElement)("p",{className:"text-xs text-gray-400"},(0,r.__)("Internal links to these pages are prioritized.","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-2"},(0,n.createElement)("div",{className:"text-2xl font-black text-amber-500"},"24h"),(0,n.createElement)("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500"},(0,r.__)("Data Sync","wp-apexlink")),(0,n.createElement)("p",{className:"text-xs text-gray-400"},(0,r.__)("Smart caching via WordPress transients.","wp-apexlink")))),(0,n.createElement)("button",{onClick:_,className:"px-10 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-2xl transition-all shadow-xl shadow-indigo-600/20 active:scale-95 flex items-center mx-auto"},(0,n.createElement)(m.A,{className:"w-5 h-5 mr-3"}),(0,r.__)("Connect Google Search Console","wp-apexlink")),(0,n.createElement)("p",{className:"mt-6 text-xs text-gray-500"},(0,r.__)("Ensure your Client ID and Secret are configured in Settings > Integrations first.","wp-apexlink"))))}},79804(e,t,a){a.d(t,{A:()=>n});const n=(0,a(4485).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},97213(e,t,a){a.d(t,{A:()=>n});const n=(0,a(4485).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}}]);