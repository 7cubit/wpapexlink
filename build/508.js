"use strict";(globalThis.webpackChunkwp_apexlink=globalThis.webpackChunkwp_apexlink||[]).push([[508],{9508(e,t,a){a.r(t),a.d(t,{default:()=>h});var n=a(51609),r=a(27723),l=a(8723),i=a(46858),s=a(36017);const o=(0,a(4485).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var c=a(14539),d=a(88676),m=a(97213),g=a(86087);const p=({text:e,children:t,darkMode:a})=>{const[r,l]=(0,g.useState)(!1);return(0,n.createElement)("div",{className:"relative inline-flex items-center group"},t||(0,n.createElement)(m.A,{className:"w-4 h-4 cursor-help "+(a?"text-gray-500 hover:text-indigo-400":"text-gray-400 hover:text-indigo-500")}),(0,n.createElement)("div",{className:`\n                absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-3 w-48 rounded-xl text-xs font-medium leading-relaxed shadow-2xl pointer-events-none transition-all duration-300 z-50\n                ${a?"bg-gray-800 text-gray-200 border-gray-700":"bg-gray-900 text-white border-gray-800"}\n                border opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0\n            `},e,(0,n.createElement)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent "+(a?"border-t-gray-800":"border-t-gray-900")})))},x=({enabled:e,onChange:t,darkMode:a,disabled:r=!1,size:l="md"})=>{const i={sm:{track:"w-10 h-5",thumb:"w-4 h-4",translate:"translate-x-5"},md:{track:"w-12 h-6",thumb:"w-5 h-5",translate:"translate-x-6"},lg:{track:"w-14 h-7",thumb:"w-6 h-6",translate:"translate-x-7"}},{track:s,thumb:o,translate:c}=i[l]||i.md;return(0,n.createElement)("button",{type:"button",role:"switch","aria-checked":e,disabled:r,onClick:()=>!r&&t(!e),className:`\n                ${s} \n                relative inline-flex items-center rounded-full \n                transition-all duration-300 ease-in-out\n                focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2\n                ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n                ${e?"bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg shadow-indigo-500/30":a?"bg-gray-600":"bg-gray-300"}\n            `},(0,n.createElement)("span",{className:"sr-only"},"Toggle"),(0,n.createElement)("span",{className:`\n                    ${o}\n                    absolute left-0.5 top-0.5\n                    inline-block rounded-full bg-white shadow-md\n                    transform transition-all duration-300 ease-in-out\n                    ${e?c:"translate-x-0"}\n                    ${e?"shadow-lg":"shadow"}\n                `}))};var b=a(97665),y=a(33930),w=a(57097),u=a(90888);const h=({darkMode:e,setDarkMode:t,readOnly:a})=>{const m=(0,b.jE)(),[h,_]=(0,g.useState)("general"),[k,f]=(0,g.useState)(!1),E=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1",{data:v}=(0,y.I)({queryKey:["license_status"],queryFn:async()=>(await fetch(`${E}/license/status`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json()}),N="enterprise"===v?.tier||"agency"===v?.tier,{data:A,isLoading:C}=(0,y.I)({queryKey:["settings"],queryFn:async()=>(await fetch(`${E}/settings`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json()}),[S,M]=(0,g.useState)({apexlink_enable_ai_reranking:!1,apexlink_batch_size:25,apexlink_silo_boost:25,apexlink_anchor_diversity_mode:"exact",apexlink_use_custom_key:!1,apexlink_openai_key:"",apexlink_gsc_client_id:"",apexlink_gsc_client_secret:"",apexlink_gsc_connected:!1,apexlink_ignore_classes:"",apexlink_white_label:!1,apexlink_read_only:!1,apexlink_min_capability:"manage_options"});(0,g.useEffect)(()=>{A&&M(A)},[A]);const j=(0,w.n)({mutationFn:async e=>(await fetch(`${E}/settings`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify(e)})).json(),onSuccess:()=>{u.Ay.success((0,r.__)("Settings saved!","wp-apexlink")),m.invalidateQueries({queryKey:["settings"]})},onError:()=>{u.Ay.error((0,r.__)("Failed to save settings.","wp-apexlink"))}});return C?(0,n.createElement)("div",{className:"p-20 text-center text-gray-400"},(0,n.createElement)(l.A,{className:"w-12 h-12 animate-spin mx-auto mb-4"}),(0,n.createElement)("p",{className:"font-bold"},(0,r.__)("Loading settings...","wp-apexlink"))):(0,n.createElement)("div",{className:"animate-in slide-in-from-bottom-4 duration-500"},(0,n.createElement)("h2",{className:"text-2xl font-bold mb-8 "+(e?"text-white":"text-gray-900")},(0,r.__)("Plugin Settings","wp-apexlink")),(0,n.createElement)("div",{className:"flex space-x-4 mb-8"},(0,n.createElement)("button",{onClick:()=>_("general"),className:"px-6 py-2 rounded-xl font-bold transition-all "+("general"===h?"bg-neuro-brain text-white shadow-lg shadow-indigo-500/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,r.__)("General","wp-apexlink")),N&&(0,n.createElement)("button",{onClick:()=>_("ai"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("ai"===h?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(i.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("AI Reranking (Agency)","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>_("integrations"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("integrations"===h?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(i.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("Integrations","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>_("agency"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("agency"===h?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(s.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("Agency","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>_("maintenance"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("maintenance"===h?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(o,{className:"w-4 h-4 mr-2"}),(0,r.__)("Maintenance","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-6"},"general"===h?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("h3",{className:"text-lg font-bold mb-6 flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(s.A,{className:"w-5 h-5 mr-2 text-green-500"}),(0,r.__)("General Configuration","wp-apexlink")),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Dark Appearance","wp-apexlink")),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Toggle engine dashboard appearance.","wp-apexlink"))),(0,n.createElement)("button",{onClick:()=>t(!e),className:"p-2 rounded-lg transition-all transform hover:scale-110 active:scale-95 "+(e?"bg-indigo-600 text-white shadow-indigo-900/20":"bg-white text-gray-400 border border-gray-200 shadow-sm")},e?(0,n.createElement)(c.A,{className:"w-5 h-5"}):(0,n.createElement)(d.A,{className:"w-5 h-5"}))),(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Hybrid AI Reranking","wp-apexlink")),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Uses OpenAI to refine link suggestions.","wp-apexlink"))),(0,n.createElement)(x,{enabled:S.apexlink_enable_ai_reranking,onChange:e=>M(t=>({...t,apexlink_enable_ai_reranking:e})),darkMode:e})),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"flex items-center text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Batch Size","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Determines how many posts the background indexer processes in one cycle. Higher values are faster but consume more server resources.","wp-apexlink")})),(0,n.createElement)("input",{type:"number",value:S.apexlink_batch_size,onChange:e=>M(t=>({...t,apexlink_batch_size:parseInt(e.target.value)})),className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Number of posts to process in a single background job.","wp-apexlink"))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"flex items-center text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Silo Boost (%)","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Prioritizes linking between posts within the same category/silo to strengthen topical authority.","wp-apexlink")})),(0,n.createElement)("input",{type:"range",min:"0",max:"100",value:S.apexlink_silo_boost,onChange:e=>M(t=>({...t,apexlink_silo_boost:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-neuro-brain"}),(0,n.createElement)("div",{className:"flex justify-between text-[10px] text-gray-400 font-bold mt-1 uppercase"},(0,n.createElement)("span",null,(0,r.__)("Off","wp-apexlink")),(0,n.createElement)("span",{className:"text-indigo-500"},S.apexlink_silo_boost,"%"),(0,n.createElement)("span",null,(0,r.__)("Strong","wp-apexlink")))),(0,n.createElement)("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700"},(0,n.createElement)("label",{className:"flex items-center text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Ignore CSS Classes","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Enter classes (e.g., .no-links) or tags (e.g., nav) to skip during indexing.","wp-apexlink")})),(0,n.createElement)("input",{type:"text",value:S.apexlink_ignore_classes,onChange:e=>M(t=>({...t,apexlink_ignore_classes:e.target.value})),placeholder:"header, footer, sidebar, .ignore-me",className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Comma-separated list of CSS classes or tags to ignore during indexing. Useful for headers, footers, or navigation menus.","wp-apexlink"))))):"integrations"===h?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("div",{className:"flex items-center justify-between mb-8"},(0,n.createElement)("h3",{className:"text-lg font-bold flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(i.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Google Search Console","wp-apexlink")),S.apexlink_gsc_connected&&(0,n.createElement)("div",{className:"bg-emerald-500/10 text-emerald-500 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-emerald-500/20"},(0,r.__)("Connected","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:`p-4 rounded-xl mb-6 ${e?"bg-indigo-900/20 border-indigo-500/30":"bg-indigo-50 border-indigo-100"} border`},(0,n.createElement)("p",{className:"text-sm "+(e?"text-indigo-300":"text-indigo-700")},(0,r.__)('Connect your Google Search Console to unlock "Striking Distance" keyword intelligence and revenue opportunity reports.',"wp-apexlink"))),S.apexlink_gsc_connected?(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("div",{className:"p-6 rounded-xl border "+(e?"bg-gray-700/50 border-gray-600":"bg-gray-50 border-gray-200")},(0,n.createElement)("div",{className:"flex items-center justify-between"},(0,n.createElement)("div",{className:"flex items-center"},(0,n.createElement)("div",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center mr-3"},(0,n.createElement)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24"},(0,n.createElement)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,n.createElement)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,n.createElement)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,n.createElement)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}))),(0,n.createElement)("div",null,(0,n.createElement)("p",{className:"font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Google Search Console","wp-apexlink")),(0,n.createElement)("p",{className:"text-xs text-emerald-500 font-bold"},(0,r.__)("Connected & Active","wp-apexlink")))),(0,n.createElement)("button",{onClick:async()=>{try{await fetch(`${E}/gsc/disconnect`,{method:"POST",headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),M(e=>({...e,apexlink_gsc_connected:!1})),u.Ay.success((0,r.__)("Disconnected from Google Search Console.","wp-apexlink"))}catch(e){u.Ay.error((0,r.__)("Failed to disconnect.","wp-apexlink"))}},className:"px-4 py-2 text-xs font-bold rounded-lg transition-all "+(e?"text-rose-400 hover:bg-rose-500/10":"text-rose-600 hover:bg-rose-50")},(0,r.__)("Disconnect","wp-apexlink")))),(0,n.createElement)("p",{className:"text-xs text-gray-400"},(0,r.__)("Your GSC data is being used to power Striking Distance keyword suggestions.","wp-apexlink"))):(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("button",{onClick:async()=>{try{const e=await fetch(`${E}/gsc/connect-url`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),t=await e.json();t.url&&(window.location.href=t.url)}catch(e){u.Ay.error((0,r.__)("Failed to initiate connection.","wp-apexlink"))}},className:"w-full flex items-center justify-center px-6 py-4 bg-white hover:bg-gray-50 border border-gray-300 rounded-xl shadow-sm transition-all hover:shadow-md"},(0,n.createElement)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24"},(0,n.createElement)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,n.createElement)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,n.createElement)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,n.createElement)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),(0,n.createElement)("span",{className:"font-bold text-gray-700"},(0,r.__)("Connect with Google","wp-apexlink"))),(0,n.createElement)("p",{className:"text-xs text-gray-400 text-center"},(0,r.__)("One-click connection. No complex setup required.","wp-apexlink"))))):"agency"===h?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("h3",{className:"text-lg font-bold mb-6 flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(s.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Agency & White-Label","wp-apexlink")),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"flex items-center font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("White-Label Mode","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Removes WP ApexLink branding for a native client experience.","wp-apexlink")})),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Hides ApexLink branding and logos.","wp-apexlink"))),(0,n.createElement)(x,{enabled:S.apexlink_white_label,onChange:e=>M(t=>({...t,apexlink_white_label:e})),darkMode:e})),(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"flex items-center font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Client Read-Only Mode","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Locks all settings and link approvals, preventing unintended changes by clients.","wp-apexlink")})),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Prevents changing links or settings.","wp-apexlink"))),(0,n.createElement)(x,{enabled:S.apexlink_read_only,onChange:e=>M(t=>({...t,apexlink_read_only:e})),darkMode:e})),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Minimum Access Capability","wp-apexlink")),(0,n.createElement)("select",{value:S.apexlink_min_capability,onChange:e=>M(t=>({...t,apexlink_min_capability:e.target.value})),className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")},(0,n.createElement)("option",{value:"manage_options"},(0,r.__)("Administrator (manage_options)","wp-apexlink")),(0,n.createElement)("option",{value:"edit_posts"},(0,r.__)("Editor (edit_posts)","wp-apexlink"))),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Determine which users can access the ApexLink dashboard.","wp-apexlink"))))):"maintenance"===h?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("h3",{className:"text-lg font-bold mb-6 flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(o,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Data & Portability","wp-apexlink")),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:"flex gap-4"},(0,n.createElement)("button",{onClick:async()=>{const e=await fetch(`${E}/settings/export`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),t=await e.json(),a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=`apexlink-settings-${(new Date).toISOString().split("T")[0]}.json`,l.click(),u.Ay.success((0,r.__)("Settings exported!","wp-apexlink"))},className:"flex-1 px-6 py-3 rounded-xl font-bold transition-all border "+(e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-200 text-gray-600 hover:bg-gray-50")},(0,r.__)("Export Settings (JSON)","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>{if(a)return void u.Ay.error((0,r.__)("Import disabled in Read-Only mode.","wp-apexlink"));const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=async e=>{try{const t=JSON.parse(e.target.result),a=await fetch(`${E}/settings/import`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify(t)});(await a.json()).success&&(u.Ay.success((0,r.__)("Settings imported! Reloading...","wp-apexlink")),setTimeout(()=>window.location.reload(),1500))}catch(e){u.Ay.error((0,r.__)("Invalid JSON file.","wp-apexlink"))}},a.readAsText(t)},e.click()},className:"flex-1 px-6 py-3 rounded-xl font-bold transition-all border "+(e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-200 text-gray-600 hover:bg-gray-50")},(0,r.__)("Import Settings","wp-apexlink"))))):"ai"===h?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("div",{className:"flex items-center justify-between mb-8"},(0,n.createElement)("h3",{className:"text-lg font-bold flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(i.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Agency BYOK (Bring Your Own Key)","wp-apexlink")),S.apexlink_use_custom_key&&(0,n.createElement)("div",{className:"bg-emerald-500/10 text-emerald-500 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-emerald-500/20"},(0,r.__)("Unlimited Mode Active","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:`p-4 rounded-xl mb-6 ${e?"bg-indigo-900/20 border-indigo-500/30":"bg-indigo-50 border-indigo-100"} border`},(0,n.createElement)("p",{className:"text-sm "+(e?"text-indigo-300":"text-indigo-700")},(0,r.__)("As an Agency user, you can use your own OpenAI API key. This bypasses the plugin credit system and allows for unlimited AI reranking for high-volume sites.","wp-apexlink"))),(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"flex items-center font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Use Custom OpenAI Key","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Bypass the standard ApexLink credit system by connecting your own billing. Ideal for high-traffic agency sites.","wp-apexlink")})),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Enable to use your own billing for AI Rerank.","wp-apexlink"))),(0,n.createElement)(x,{enabled:S.apexlink_use_custom_key,onChange:e=>M(t=>({...t,apexlink_use_custom_key:e})),darkMode:e})),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("OpenAI API Key","wp-apexlink")),(0,n.createElement)("div",{className:"flex gap-2"},(0,n.createElement)("input",{type:"password",value:S.apexlink_openai_key,onChange:e=>M(t=>({...t,apexlink_openai_key:e.target.value})),placeholder:(0,r.__)("sk-...","wp-apexlink"),className:"flex-grow rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}),(0,n.createElement)("button",{onClick:async()=>{f(!0);try{const e=await fetch(`${E}/settings/ai/test`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({key:S.apexlink_openai_key})}),t=await e.json();t.success?u.Ay.success((0,r.__)("Connection successful! Unlimited mode active.","wp-apexlink")):u.Ay.error(t.error||(0,r.__)("Connection failed.","wp-apexlink"))}catch(e){u.Ay.error((0,r.__)("An error occurred during testing.","wp-apexlink"))}finally{f(!1)}},disabled:k,className:"px-4 py-2 rounded-xl font-bold text-xs transition-all border "+(e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-200 text-gray-600 hover:bg-gray-50")},k?(0,n.createElement)(l.A,{className:"w-4 h-4 animate-spin"}):(0,r.__)("Test Connection","wp-apexlink"))),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Your key is encrypted before being stored on your server.","wp-apexlink"))))):null,(0,n.createElement)("div",{className:"flex justify-end"},(0,n.createElement)("button",{onClick:()=>{j.mutate(S)},disabled:j.isLoading||a,className:"flex items-center px-8 py-3 rounded-xl font-bold transition-all shadow-lg hover:shadow-xl active:scale-95 disabled:opacity-50 "+(e?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-gray-900 hover:bg-black text-white")},(0,n.createElement)(o,{className:"w-4 h-4 mr-2"}),j.isLoading?(0,r.__)("Saving...","wp-apexlink"):a?(0,r.__)("Read-Only Mode","wp-apexlink"):(0,r.__)("Save Settings","wp-apexlink")))))}},97213(e,t,a){a.d(t,{A:()=>n});const n=(0,a(4485).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}}]);