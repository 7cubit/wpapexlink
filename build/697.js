"use strict";(globalThis.webpackChunkwp_apexlink=globalThis.webpackChunkwp_apexlink||[]).push([[697],{6697(e,t,a){a.r(t),a.d(t,{default:()=>G});var r=a(51609),n=a(27723),l=a(86087),s=a(46110),i=a(48697),o=a(18931),c=a(8723),d=a(90888);const m=({darkMode:e})=>{const[t,a]=(0,l.useState)(""),[m,p]=(0,l.useState)([]),[g,x]=(0,l.useState)(!1),[b,u]=(0,l.useState)(""),[h,y]=(0,l.useState)(null),[w,k]=(0,l.useState)(null),_=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1",f=async()=>{if(t){x(!0);try{const e=await fetch(`${_}/search?q=${encodeURIComponent(t)}`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),a=await e.json();p(Array.isArray(a)?a:[])}catch(e){console.error("Search error:",e)}x(!1)}};return(0,r.createElement)("div",{className:"mt-10 rounded-3xl shadow-sm border overflow-hidden "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)("div",{className:`p-6 border-b ${e?"border-gray-700":"border-gray-50"} flex justify-between items-center`},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-xl font-bold flex items-center "+(e?"text-white":"text-gray-900")},(0,r.createElement)("span",{className:"mr-2"},"ðŸ”")," ",(0,n.__)("Algorithm Tester","wp-apexlink")),(0,r.createElement)("p",{className:"text-sm text-gray-500 mt-1"},(0,n.__)("Test the semantic search engine and generate AI bridges.","wp-apexlink"))),(0,r.createElement)("div",{className:"flex gap-2 items-center"},(0,r.createElement)("span",{className:"text-[10px] uppercase font-black text-gray-400"},(0,n.__)("Source ID:","wp-apexlink")),(0,r.createElement)("input",{type:"number",value:b,onChange:e=>u(e.target.value),placeholder:"Ex: 123",className:"w-20 rounded-lg text-xs font-bold px-2 py-1 border "+(e?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-200")}))),(0,r.createElement)("div",{className:"p-6"},w&&(0,r.createElement)("div",{className:"mb-8 p-6 rounded-2xl border border-dashed animate-in zoom-in-95 duration-300 "+(e?"bg-indigo-900/20 border-indigo-500/30":"bg-indigo-50 border-indigo-200")},(0,r.createElement)("div",{className:"flex justify-between items-start mb-4"},(0,r.createElement)("div",{className:"flex items-center text-xs font-black uppercase tracking-widest text-indigo-500"},(0,r.createElement)(s.A,{className:"w-4 h-4 mr-2"}),(0,n.__)("Drafting Bridge for:","wp-apexlink")," ",w.targetTitle),(0,r.createElement)("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-600"},(0,r.createElement)(i.A,{className:"w-4 h-4"}))),(0,r.createElement)("textarea",{value:w.bridge,onChange:e=>k({...w,bridge:e.target.value}),rows:3,className:"w-full p-4 rounded-xl text-sm border focus:ring-2 focus:ring-indigo-500 outline-none mb-4 "+(e?"bg-gray-900/50 text-white border-gray-700":"bg-white border-gray-200")}),(0,r.createElement)("button",{onClick:async()=>{if(w)try{const e=await fetch(`${_}/suggestions/bridge/apply`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({source_id:parseInt(b),target_id:w.targetId,bridge_text:w.bridge})}),t=await e.json();t.success?(d.Ay.success((0,n.__)("Bridge applied to post!","wp-apexlink")),k(null)):d.Ay.error(t.message||(0,n.__)("Failed to apply bridge.","wp-apexlink"))}catch(e){d.Ay.error((0,n.__)("An error occurred.","wp-apexlink"))}},className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold text-xs shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 transition-all"},(0,n.__)("Inject into Post Content","wp-apexlink"))),(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:(0,n.__)("Search for topics to link...","wp-apexlink"),className:"flex-grow rounded-xl shadow-sm focus:border-neuro-brain focus:ring-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300"),onKeyPress:e=>"Enter"===e.key&&f()}),(0,r.createElement)("button",{onClick:f,disabled:g,className:"bg-neuro-brain hover:bg-opacity-90 text-white px-6 py-2 rounded-xl font-bold transition-all disabled:opacity-50 active:scale-95 shadow-lg shadow-indigo-500/20"},g?(0,n.__)("Searching...","wp-apexlink"):(0,n.__)("Search","wp-apexlink"))),(0,r.createElement)("div",{className:"mt-6 space-y-4"},m.length>0?m.map(t=>(0,r.createElement)("div",{key:t.ID,className:"p-4 rounded-2xl border flex justify-between items-center transition-all "+(e?"bg-gray-900 border-gray-700 hove:bg-gray-700":"bg-gray-50 border-gray-100 hover:bg-white hover:shadow-md")},(0,r.createElement)("div",{className:"flex items-center gap-4"},(0,r.createElement)("div",{className:"flex flex-col"},(0,r.createElement)("h3",{className:"font-bold text-sm "+(e?"text-white":"text-gray-900")},t.title),(0,r.createElement)("div",{className:"flex gap-2 mt-1"},(0,r.createElement)("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider"},"ID: ",t.id||t.ID),(0,r.createElement)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-indigo-500 hover:underline flex items-center"},(0,r.createElement)(o.A,{className:"w-2.5 h-2.5 mr-1"})," ",(0,n.__)("View","wp-apexlink"))))),(0,r.createElement)("div",{className:"flex items-center gap-6"},(0,r.createElement)("div",{className:"text-right"},(0,r.createElement)("div",{className:"text-sm font-black text-indigo-500"},parseFloat(t.score).toFixed(2)),(0,r.createElement)("div",{className:"text-[8px] uppercase text-gray-400 font-black tracking-widest leading-none"},(0,n.__)("Score","wp-apexlink"))),(0,r.createElement)("button",{onClick:()=>(async e=>{if(b){y(e.id||e.ID);try{const t=await fetch(`${_}/suggestions/bridge/generate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({source_id:parseInt(b),target_id:e.id||e.ID})}),a=await t.json();a.success?(k({targetTitle:e.title,targetId:e.id||e.ID,bridge:a.bridge}),d.Ay.success((0,n.__)("AI Bridge generated!","wp-apexlink"))):d.Ay.error(a.error||(0,n.__)("Failed to generate bridge.","wp-apexlink"))}catch(e){d.Ay.error((0,n.__)("An error occurred.","wp-apexlink"))}finally{y(null)}}else d.Ay.error((0,n.__)("Please specify a Source Post ID first.","wp-apexlink"))})(t),disabled:h===(t.id||t.ID),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all "+(e?"bg-amber-500/10 text-amber-500 hover:bg-amber-500 hover:text-white":"bg-amber-50 text-amber-600 hover:bg-amber-500 hover:text-white border border-amber-500/10")},h===(t.id||t.ID)?(0,r.createElement)(c.A,{className:"w-3 h-3 animate-spin"}):(0,r.createElement)(s.A,{className:"w-3 h-3"}),(0,n.__)("Magic Bridge","wp-apexlink"))))):!g&&t&&(0,r.createElement)("div",{className:"text-center py-12 border-2 border-dashed border-gray-100 rounded-2xl text-gray-400 italic"},(0,n.__)("No semantic matches found for this query.","wp-apexlink")))))};var p=a(33930),g=a(76316),x=a(87073),b=a(4485);const u=(0,b.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),h=(0,b.A)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var y=a(56108),w=a(418),k=a(80827),_=a(46858);const f=({balance:e=0,tier:t="pro",darkMode:a})=>{const l="enterprise"===t?1e4:"pro"===t?2500:500,s=Math.min(100,e/l*100),i=s<=20;return(0,r.createElement)("div",{className:"p-6 rounded-3xl border transition-all "+(a?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-sm")},(0,r.createElement)("div",{className:"flex justify-between items-start mb-6"},(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-sm font-bold uppercase tracking-widest "+(a?"text-gray-400":"text-gray-500")},(0,n.__)("Neural Fuel","wp-apexlink")),(0,r.createElement)("div",{className:"flex items-baseline mt-1"},(0,r.createElement)("span",{className:"text-3xl font-black "+(a?"text-white":"text-gray-900")},e.toLocaleString()),(0,r.createElement)("span",{className:"text-gray-400 text-xs ml-2 font-bold uppercase tracking-tight"},"/ ",l.toLocaleString()," ",(0,n.__)("Credits","wp-apexlink")))),(0,r.createElement)("div",{className:"p-3 rounded-2xl "+(a?"bg-gray-700":"bg-gray-50 text-neuro-brain")},(0,r.createElement)(_.A,{className:"w-5 h-5 "+(i?"text-rose-500":"text-neuro-brain")}))),(0,r.createElement)("div",{className:"w-full h-3 rounded-full overflow-hidden "+(a?"bg-gray-700":"bg-gray-100")},(0,r.createElement)("div",{className:"h-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(79,70,229,0.2)] "+(s>50?"bg-emerald-500":s>20?"bg-amber-500":"bg-rose-500 animate-pulse"),style:{width:`${s}%`}})),(0,r.createElement)("div",{className:"mt-6 flex items-center justify-between"},(0,r.createElement)("div",{className:"flex items-center text-xs font-bold uppercase tracking-wide"},i?(0,r.createElement)("span",{className:"text-rose-500 flex items-center"},(0,r.createElement)(w.A,{className:"w-3 h-3 mr-1"}),(0,n.__)("Low Fuel","wp-apexlink")):(0,r.createElement)("span",{className:"text-emerald-500"},(0,n.__)("System Healthy","wp-apexlink"))),(0,r.createElement)("button",{className:"text-xs font-bold flex items-center transition-all "+(a?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800")},(0,n.__)("Refuel / Upgrade","wp-apexlink"),(0,r.createElement)(u,{className:"w-3 h-3 ml-1"}))),i&&(0,r.createElement)("div",{className:`mt-4 p-4 rounded-xl border-2 border-dashed ${a?"bg-rose-500/10 border-rose-500/20 text-rose-300":"bg-rose-50 border-rose-100 text-rose-800"} text-xs leading-relaxed`},(0,r.createElement)("p",{className:"font-bold mb-1"},(0,n.__)("Refueling required soon!","wp-apexlink")),(0,r.createElement)("p",null,(0,n.__)("Your AI suggestions will pause when fuel reaches 0.","wp-apexlink"))))};var E=a(19322);const N=(0,b.A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var v=a(80964),A=a(85731);const M=(0,b.A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),I=(0,b.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),j=({score:e=0,isRunning:t,isPaused:a,onAction:s,darkMode:i})=>{const[o,c]=(0,l.useState)(!1),d=2*Math.PI*70,m=d-e/100*d;return(0,r.createElement)("div",{className:"relative p-8 rounded-3xl border shadow-sm transition-all duration-500 "+(i?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)("div",{className:"flex items-center justify-between mb-8"},(0,r.createElement)("h2",{className:"text-xl font-black flex items-center "+(i?"text-white":"text-gray-900")},(0,r.createElement)(N,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,n.__)("Site Health Pulse","wp-apexlink")),(0,r.createElement)("button",{onClick:()=>c(!o),className:"p-2 rounded-xl transition-all "+(o?"bg-indigo-500 text-white":i?"bg-gray-700 text-gray-400 hover:text-white":"bg-gray-50 text-gray-500 hover:bg-gray-100"),title:(0,n.__)("Engine Controls","wp-apexlink")},(0,r.createElement)(v.A,{className:"w-5 h-5 "+(o?"animate-spin-slow":"")}))),(0,r.createElement)("div",{className:"flex flex-col items-center justify-center py-4"},(0,r.createElement)("div",{className:"relative flex items-center justify-center"},(0,r.createElement)("svg",{className:"w-48 h-48 transform -rotate-90"},(0,r.createElement)("circle",{cx:"96",cy:"96",r:70,fill:"transparent",stroke:"currentColor",strokeWidth:"12",className:i?"text-gray-700":"text-gray-100"}),(0,r.createElement)("circle",{cx:"96",cy:"96",r:70,fill:"transparent",stroke:"currentColor",strokeWidth:"12",strokeDasharray:d,strokeDashoffset:m,strokeLinecap:"round",className:"transition-all duration-1000 ease-out "+(e>80?"text-emerald-500":e>50?"text-amber-500":"text-rose-500")})),(0,r.createElement)("div",{className:"absolute inset-0 flex flex-col items-center justify-center"},(0,r.createElement)("span",{className:"text-5xl font-black tracking-tighter "+(i?"text-white":"text-gray-900")},Math.round(e)),(0,r.createElement)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400"},(0,n.__)("Pulse Index","wp-apexlink")))),(0,r.createElement)("div",{className:"mt-8 text-center px-4"},(0,r.createElement)("p",{className:"text-sm font-medium leading-relaxed "+(i?"text-gray-400":"text-gray-500")},e>80?(0,n.__)("Your link architecture is optimized and resilient.","wp-apexlink"):e>50?(0,n.__)("Good progress. Neutralize more orphans to hit peak pulse.","wp-apexlink"):(0,n.__)("Critical gaps detected. Trigger indexing to restore health.","wp-apexlink")))),o&&(0,r.createElement)("div",{className:"absolute inset-x-8 bottom-8 top-[88px] rounded-2xl flex flex-col space-y-3 p-6 animate-in slide-in-from-top-4 duration-300 "+(i?"bg-gray-900/95 backdrop-blur-md":"bg-white/95 backdrop-blur-md border border-gray-100 shadow-2xl")},(0,r.createElement)("div",{className:"flex items-center justify-between mb-2"},(0,r.createElement)("h3",{className:"text-sm font-bold uppercase tracking-widest "+(i?"text-gray-400":"text-gray-500")},(0,n.__)("Engine Controls","wp-apexlink")),(0,r.createElement)("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold "+(t?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-gray-500/10 text-gray-500 border border-gray-500/20")},t?(0,n.__)("RUNNING","wp-apexlink"):(0,n.__)("IDLE","wp-apexlink"))),(0,r.createElement)("button",{onClick:()=>{s("index"),c(!1)},disabled:t,className:"flex items-center justify-center w-full bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white font-bold py-3 rounded-xl transition-all"},(0,r.createElement)(A.A,{className:"w-4 h-4 mr-2"}),(0,n.__)("Trigger Mass Indexing","wp-apexlink")),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-3"},a?(0,r.createElement)("button",{onClick:()=>s("resume"),className:"flex items-center justify-center bg-emerald-600/10 text-emerald-600 hover:bg-emerald-600/20 border border-emerald-600/20 font-bold py-3 rounded-xl transition-all"},(0,r.createElement)(A.A,{className:"w-4 h-4 mr-2"}),(0,n.__)("Resume","wp-apexlink")):(0,r.createElement)("button",{onClick:()=>s("pause"),className:"flex items-center justify-center bg-amber-600/10 text-amber-600 hover:bg-amber-600/20 border border-amber-600/20 font-bold py-3 rounded-xl transition-all"},(0,r.createElement)(M,{className:"w-4 h-4 mr-2"}),(0,n.__)("Pause","wp-apexlink")),(0,r.createElement)("button",{onClick:()=>s("recalculate"),className:"flex items-center justify-center font-bold py-3 rounded-xl transition-all border "+(i?"border-gray-700 text-gray-400 hover:bg-gray-800":"border-gray-200 text-gray-600 hover:bg-gray-50")},(0,r.createElement)(I,{className:"w-4 h-4 mr-2"}),(0,n.__)("Rebuild","wp-apexlink"))),(0,r.createElement)("button",{onClick:()=>c(!1),className:"mt-auto text-xs font-bold text-gray-400 hover:text-indigo-500 transition-colors py-2"},(0,n.__)("Close Controls","wp-apexlink"))))};var $=a(48635),C=a(98445),L=a(44471),S=a(99653);const D=(0,b.A)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var P=a(37946),T=a(51003);const q=({icon:e,title:t,description:a,to:n,variant:l="indigo",darkMode:s,onClick:i})=>{const o={indigo:s?"bg-indigo-500/10 text-indigo-400":"bg-indigo-50 text-indigo-600",amber:s?"bg-amber-500/10 text-amber-400":"bg-amber-50 text-amber-600",rose:s?"bg-rose-500/10 text-rose-400":"bg-rose-50 text-rose-600",emerald:s?"bg-emerald-500/10 text-emerald-400":"bg-emerald-50 text-emerald-600"},c=n?T.N_:"button",d=n?{to:n}:{onClick:i,type:"button"};return(0,r.createElement)(c,{...d,className:"flex items-center p-4 rounded-2xl border transition-all hover:scale-[1.02] active:scale-95 group w-full text-left "+(s?"bg-gray-900 border-gray-700 hover:border-indigo-500/50":"bg-white border-gray-100 shadow-sm hover:border-indigo-200")},(0,r.createElement)("div",{className:`p-3 rounded-xl mr-4 ${o[l]}`},(0,r.createElement)(e,{className:"w-5 h-5"})),(0,r.createElement)("div",{className:"flex-grow min-w-0"},(0,r.createElement)("h4",{className:"text-sm font-bold truncate "+(s?"text-white":"text-gray-900")},t),(0,r.createElement)("p",{className:"text-xs truncate "+(s?"text-gray-400":"text-gray-500")},a)),(0,r.createElement)($.A,{className:"w-4 h-4 ml-2 opacity-0 group-hover:opacity-100 transition-all "+(s?"text-indigo-400":"text-indigo-500")}))},z=({stats:e,status:t,darkMode:a,onTriggerIndex:l})=>{const s=t?.is_running,i=t?.progress||0,o=e?.orphan_count||0,c=e?.broken_links||0,d=e?.indexed_posts||0,m=e?.total_posts||0,p=0===m,g=m>0&&0===d;return(0,r.createElement)("div",{className:"flex flex-col h-full"},(0,r.createElement)("div",{className:"space-y-3"},s&&(0,r.createElement)("div",{className:"p-4 rounded-2xl border flex flex-col "+(a?"bg-indigo-900/10 border-indigo-500/20":"bg-indigo-50/50 border-indigo-100")},(0,r.createElement)("div",{className:"flex items-center justify-between mb-2"},(0,r.createElement)("span",{className:"text-xs font-bold text-indigo-600 uppercase tracking-widest flex items-center"},(0,r.createElement)(C.A,{className:"w-3 h-3 mr-1.5 animate-pulse"}),(0,n.__)("Indexing in Progress...","wp-apexlink")),(0,r.createElement)("span",{className:"text-xs font-black text-indigo-600"},i,"%")),(0,r.createElement)("div",{className:"h-1.5 w-full rounded-full overflow-hidden "+(a?"bg-gray-800":"bg-indigo-100")},(0,r.createElement)("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${i}%`}}))),!s&&p&&(0,r.createElement)("div",{className:"p-6 rounded-2xl border text-center "+(a?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200")},(0,r.createElement)(L.A,{className:"w-10 h-10 mx-auto mb-3 "+(a?"text-emerald-400":"text-emerald-500")}),(0,r.createElement)("h4",{className:"text-sm font-bold mb-1 "+(a?"text-white":"text-gray-900")},(0,n.__)("Ready for Production","wp-apexlink")),(0,r.createElement)("p",{className:"text-xs "+(a?"text-gray-400":"text-gray-500")},(0,n.__)("Deploy to your production site with content to see insights.","wp-apexlink"))),!s&&g&&(0,r.createElement)(q,{icon:S.A,variant:"indigo",title:(0,n.__)("Start Initial Indexing","wp-apexlink"),description:(0,n.__)(`Analyze ${m} posts to discover opportunities.`,"wp-apexlink"),onClick:l,darkMode:a}),!s&&o>0&&(0,r.createElement)(q,{icon:D,variant:"amber",title:(0,n.__)("Neutralize Orphans","wp-apexlink"),description:(0,n.__)(`${o} posts have zero inbound links.`,"wp-apexlink"),to:"/orphans",darkMode:a}),!s&&c>0&&(0,r.createElement)(q,{icon:P.A,variant:"rose",title:(0,n.__)("Fix Broken Connections","wp-apexlink"),description:(0,n.__)(`${c} internal links are dead ends.`,"wp-apexlink"),to:"/reports",darkMode:a}),!s&&!p&&!g&&0===o&&0===c&&(0,r.createElement)(q,{icon:_.A,variant:"emerald",title:(0,n.__)("Optimize Performance","wp-apexlink"),description:(0,n.__)("Run Autopilot to boost silo authority.","wp-apexlink"),to:"/autopilot",darkMode:a})))};var R=a(79804),O=a(50180),W=a(27235);const F=(0,b.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),U=({darkMode:e})=>{const t=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1",{data:a=[],isLoading:l}=(0,p.I)({queryKey:["recent-activity"],queryFn:async()=>{const e=await fetch(`${t}/activity/recent`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),a=await e.json();return Array.isArray(a)?a:[]},refetchInterval:3e4}),i=a.length>0?a:[{id:1,type:"suggestion",message:(0,n.__)("5 new link suggestions generated","wp-apexlink"),timestamp:(new Date).toISOString()},{id:2,type:"link_added",message:(0,n.__)('Link added to "Getting Started Guide"',"wp-apexlink"),timestamp:new Date(Date.now()-3e5).toISOString()},{id:3,type:"link_approved",message:(0,n.__)('Approved link in "Best Practices"',"wp-apexlink"),timestamp:new Date(Date.now()-9e5).toISOString()}];return(0,r.createElement)("div",{className:"p-6 rounded-2xl border "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-sm")},(0,r.createElement)("div",{className:"flex items-center justify-between mb-4"},(0,r.createElement)("h3",{className:"font-bold flex items-center "+(e?"text-white":"text-gray-900")},(0,r.createElement)(W.A,{className:"w-4 h-4 mr-2 text-indigo-500"}),(0,n.__)("Recent Activity","wp-apexlink")),(0,r.createElement)("span",{className:"text-xs text-gray-400"},(0,n.__)("Live","wp-apexlink"))),(0,r.createElement)("div",{className:"space-y-3"},i.slice(0,5).map((t,a)=>{const{icon:l,color:i,bg:o}=(e=>{switch(e){case"link_added":return{icon:h,color:"text-emerald-500",bg:"bg-emerald-500/10"};case"link_approved":return{icon:R.A,color:"text-blue-500",bg:"bg-blue-500/10"};case"link_rejected":return{icon:O.A,color:"text-rose-500",bg:"bg-rose-500/10"};case"suggestion":return{icon:s.A,color:"text-purple-500",bg:"bg-purple-500/10"};default:return{icon:W.A,color:"text-gray-500",bg:"bg-gray-500/10"}}})(t.type);return(0,r.createElement)("div",{key:t.id||a,className:"flex items-start space-x-3 p-3 rounded-xl transition-all hover:scale-[1.02] "+(e?"hover:bg-gray-700/50":"hover:bg-gray-50"),style:{animationDelay:100*a+"ms"}},(0,r.createElement)("div",{className:`p-2 rounded-lg ${o}`},(0,r.createElement)(l,{className:`w-4 h-4 ${i}`})),(0,r.createElement)("div",{className:"flex-1 min-w-0"},(0,r.createElement)("p",{className:"text-sm truncate "+(e?"text-gray-300":"text-gray-700")},t.message),(0,r.createElement)("p",{className:"text-xs text-gray-400 mt-0.5"},(e=>{const t=new Date(e),a=new Date,r=Math.floor((a-t)/1e3);return r<60?(0,n.__)("Just now","wp-apexlink"):r<3600?`${Math.floor(r/60)}m ${(0,n.__)("ago","wp-apexlink")}`:r<86400?`${Math.floor(r/3600)}h ${(0,n.__)("ago","wp-apexlink")}`:t.toLocaleDateString()})(t.timestamp))))})))},H=({stats:e,darkMode:t})=>{const a=[];e?.orphan_count>5&&a.push({type:"warning",icon:F,title:(0,n.__)("Orphan Alert","wp-apexlink"),message:`${e.orphan_count} ${(0,n.__)("posts have no inbound links. Consider using the Magnet tool.","wp-apexlink")}`,action:"#/orphans",actionLabel:(0,n.__)("View Orphans","wp-apexlink")}),e?.pending_suggestions>0&&a.push({type:"opportunity",icon:s.A,title:(0,n.__)("Pending Opportunities","wp-apexlink"),message:`${e.pending_suggestions} ${(0,n.__)("AI suggestions waiting for review.","wp-apexlink")}`,action:"#/suggestions",actionLabel:(0,n.__)("Review Now","wp-apexlink")}),e?.health_score<70&&a.push({type:"improvement",icon:g.A,title:(0,n.__)("Health Improvement","wp-apexlink"),message:(0,n.__)("Your link health could be improved. Run a full index to update.","wp-apexlink"),action:null,actionLabel:null}),0===a.length&&a.push({type:"success",icon:x.A,title:(0,n.__)("All Optimized","wp-apexlink"),message:(0,n.__)("Your internal linking structure looks healthy. Keep it up!","wp-apexlink"),action:"#/visual-graph",actionLabel:(0,n.__)("View Graph","wp-apexlink")});const l=e=>{switch(e){case"warning":return"border-amber-500/20 bg-amber-500/5";case"opportunity":return"border-purple-500/20 bg-purple-500/5";case"improvement":return"border-blue-500/20 bg-blue-500/5";case"success":return"border-emerald-500/20 bg-emerald-500/5";default:return"border-gray-500/20 bg-gray-500/5"}},i=e=>{switch(e){case"warning":return"bg-amber-500 text-white";case"opportunity":return"bg-purple-500 text-white";case"improvement":return"bg-blue-500 text-white";case"success":return"bg-emerald-500 text-white";default:return"bg-gray-500 text-white"}};return(0,r.createElement)("div",{className:"p-6 rounded-2xl border "+(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100 shadow-sm")},(0,r.createElement)("div",{className:"flex items-center mb-4"},(0,r.createElement)("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg mr-3"},(0,r.createElement)(x.A,{className:"w-5 h-5 text-white"})),(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"font-bold "+(t?"text-white":"text-gray-900")},(0,n.__)("AI Insights","wp-apexlink")),(0,r.createElement)("p",{className:"text-xs text-gray-400"},(0,n.__)("Powered by ApexLink AI","wp-apexlink")))),(0,r.createElement)("div",{className:"space-y-3"},a.map((e,a)=>{const n=e.icon;return(0,r.createElement)("div",{key:a,className:`p-4 rounded-xl border ${l(e.type)} transition-all hover:scale-[1.01]`},(0,r.createElement)("div",{className:"flex items-start space-x-3"},(0,r.createElement)("div",{className:`p-2 rounded-lg ${i(e.type)} shadow-lg`},(0,r.createElement)(n,{className:"w-4 h-4"})),(0,r.createElement)("div",{className:"flex-1"},(0,r.createElement)("h4",{className:"font-semibold text-sm "+(t?"text-white":"text-gray-900")},e.title),(0,r.createElement)("p",{className:"text-xs mt-1 "+(t?"text-gray-400":"text-gray-600")},e.message),e.action&&(0,r.createElement)("a",{href:e.action,className:"inline-flex items-center mt-2 text-xs font-bold text-indigo-500 hover:text-indigo-400 transition-colors"},e.actionLabel,(0,r.createElement)($.A,{className:"w-3 h-3 ml-1"})))))})))},B=({stats:e,darkMode:t})=>{const a=[{label:(0,n.__)("Links This Week","wp-apexlink"),value:e?.links_this_week||0,icon:_.A,color:"text-emerald-500"},{label:(0,n.__)("Suggestions Accepted","wp-apexlink"),value:e?.suggestions_accepted||0,icon:R.A,color:"text-blue-500"},{label:(0,n.__)("Authority Boost","wp-apexlink"),value:`+${e?.authority_boost||0}%`,icon:g.A,color:"text-purple-500"}];return(0,r.createElement)("div",{className:"p-4 rounded-2xl border "+(t?"bg-gradient-to-r from-gray-800 to-gray-800/50 border-gray-700":"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-100")},(0,r.createElement)("div",{className:"flex items-center justify-between"},a.map((e,n)=>{const l=e.icon;return(0,r.createElement)("div",{key:n,className:"flex items-center space-x-3"},(0,r.createElement)("div",{className:"p-2 rounded-lg "+(t?"bg-gray-700":"bg-white shadow-sm")},(0,r.createElement)(l,{className:`w-4 h-4 ${e.color}`})),(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-xl font-black "+(t?"text-white":"text-gray-900")},e.value),(0,r.createElement)("p",{className:"text-xs text-gray-400"},e.label)),n<a.length-1&&(0,r.createElement)("div",{className:"h-10 w-px mx-6 "+(t?"bg-gray-700":"bg-gray-200")}))})))},X=({title:e,value:t,icon:a,loading:n,darkMode:l,trend:s,trendUp:i})=>(0,r.createElement)("div",{className:(l?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" p-6 rounded-2xl shadow-sm border flex items-center group hover:shadow-lg transition-all duration-300 hover:scale-[1.02]"},(0,r.createElement)("div",{className:"p-3 rounded-xl mr-4 transition-all group-hover:scale-110 "+(l?"bg-indigo-900/30 text-indigo-400":"bg-indigo-50 text-neuro-brain")},(0,r.createElement)(a,{className:"w-6 h-6"})),(0,r.createElement)("div",{className:"flex-1"},(0,r.createElement)("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider"},e),n?(0,r.createElement)(E.A,{className:"h-8 w-20 mt-1"}):(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)("h3",{className:"text-2xl font-black mt-1 "+(l?"text-white":"text-gray-900")},t),s&&(0,r.createElement)("span",{className:"flex items-center text-xs font-bold "+(i?"text-emerald-500":"text-rose-500")},(0,r.createElement)(g.A,{className:`w-3 h-3 mr-0.5 ${!i&&"rotate-180"}`}),s)))),G=({darkMode:e})=>{const t=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1",{data:a,isLoading:l}=(0,p.I)({queryKey:["dashboard-stats"],queryFn:async()=>(await fetch(`${t}/dashboard/stats`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json()}),{data:i,refetch:o}=(0,p.I)({queryKey:["batch-status"],queryFn:async()=>(await fetch(`${t}/batch/status`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json(),refetchInterval:5e3}),c=async e=>{try{let a=`${t}/batch/${e}`;"recalculate"===e&&(a=`${t}/graph/recalculate`);const r=fetch(a,{method:"POST",headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}});d.Ay.promise(r,{loading:"recalculate"===e?(0,n.__)("Recalculating authority...","wp-apexlink"):(0,n.__)("Starting job...","wp-apexlink"),success:"recalculate"===e?(0,n.__)("Recalculation queued!","wp-apexlink"):(0,n.__)("Job triggered successfully!","wp-apexlink"),error:e=>`${(0,n.__)("Action failed","wp-apexlink")}: ${e.message}`}),await r,o()}catch(e){}},g=a?.top_authority&&a.top_authority.length>0;return(0,r.createElement)("div",{className:"space-y-8 animate-in fade-in duration-500"},(0,r.createElement)("div",{className:"p-6 rounded-3xl border relative overflow-hidden "+(e?"bg-gradient-to-r from-indigo-900/30 to-purple-900/30 border-indigo-500/20":"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-100")},(0,r.createElement)("div",{className:"absolute top-0 right-0 opacity-10"},(0,r.createElement)(x.A,{className:"w-48 h-48 -mr-8 -mt-8"})),(0,r.createElement)("div",{className:"relative z-10 flex items-center justify-between"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-black "+(e?"text-white":"text-gray-900")},(0,n.__)("Welcome to ApexLink","wp-apexlink")," ðŸ‘‹"),(0,r.createElement)("p",{className:"mt-1 "+(e?"text-gray-400":"text-gray-600")},(0,n.__)("Your AI-powered internal linking engine is ready.","wp-apexlink"))),(0,r.createElement)("a",{href:"#/suggestions",className:"hidden md:flex items-center px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:scale-105 transition-all"},(0,r.createElement)(s.A,{className:"w-4 h-4 mr-2"}),(0,n.__)("View Suggestions","wp-apexlink"),(0,r.createElement)(u,{className:"w-4 h-4 ml-1"})))),!l&&(0,r.createElement)(B,{stats:a,darkMode:e}),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,r.createElement)(X,{title:(0,n.__)("Semantic Links","wp-apexlink"),value:a?.total_links||0,icon:h,loading:l,darkMode:e,trend:"+12%",trendUp:!0}),(0,r.createElement)(X,{title:(0,n.__)("Orphan Posts","wp-apexlink"),value:a?.orphan_count||0,icon:y.A,loading:l,darkMode:e,trend:a?.orphan_count>0?"-"+a?.orphan_count:null,trendUp:!1}),(0,r.createElement)(X,{title:(0,n.__)("Broken Links","wp-apexlink"),value:a?.broken_links||0,icon:w.A,loading:l,darkMode:e}),(0,r.createElement)(X,{title:(0,n.__)("Indexed Content","wp-apexlink"),value:`${a?.indexed_posts||0}/${a?.total_posts||0}`,icon:k.A,loading:l,darkMode:e})),(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,r.createElement)("div",{className:"lg:col-span-1"},l?(0,r.createElement)("div",{className:"p-8 rounded-3xl border min-h-[400px] flex items-center justify-center "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)(E.A,{className:"h-64 w-full rounded-2xl"})):(0,r.createElement)(j,{score:a?.health_score||0,isRunning:i?.is_running,isPaused:i?.is_paused,onAction:c,darkMode:e})),(0,r.createElement)("div",{className:"lg:col-span-1 space-y-8"},l?(0,r.createElement)("div",{className:"p-8 rounded-2xl border min-h-[300px] flex items-center justify-center "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)(E.A,{className:"h-40 w-full rounded-2xl"})):(0,r.createElement)(f,{balance:a?.system_credits,tier:a?.tier,darkMode:e,className:"h-full"})),(0,r.createElement)("div",{className:"lg:col-span-1 p-8 rounded-3xl shadow-sm border min-h-[400px] flex flex-col "+(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")},(0,r.createElement)("div",{className:"flex items-center justify-between mb-6"},(0,r.createElement)("h2",{className:"text-xl font-bold flex items-center "+(e?"text-white":"text-gray-900")},g?(0,r.createElement)(k.A,{className:"w-5 h-5 mr-2 text-indigo-500"}):(0,r.createElement)(s.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),g?(0,n.__)("Top Authority Pages","wp-apexlink"):(0,n.__)("Quick Wins","wp-apexlink"))),(0,r.createElement)("div",{className:"flex-grow"},g?(0,r.createElement)("div",{className:"space-y-4"},a.top_authority.map((t,a)=>(0,r.createElement)("div",{key:t.ID,className:"flex items-center justify-between group"},(0,r.createElement)("div",{className:"flex items-center min-w-0 mr-4"},(0,r.createElement)("span",{className:"text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full mr-3 "+(e?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-500")},a+1),(0,r.createElement)("span",{className:`truncate text-sm font-medium ${e?"text-gray-300 group-hover:text-white":"text-gray-700 group-hover:text-neuro-brain"} transition-colors`},t.post_title)),(0,r.createElement)("div",{className:"flex items-center font-mono text-sm font-bold "+(t.pagerank_score>70?"text-green-500":t.pagerank_score>40?"text-blue-500":"text-gray-400")},Math.round(t.pagerank_score))))):(0,r.createElement)(z,{stats:a,status:i,darkMode:e,onTriggerIndex:()=>c("index")})),g&&(0,r.createElement)("div",{className:"mt-8 pt-6 border-t border-gray-100/10 flex items-center justify-between"},(0,r.createElement)("span",{className:"text-xs text-gray-400 italic"},(0,n.__)("Recalculate to update authority rankings.","wp-apexlink"))))),(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},(0,r.createElement)(H,{stats:a,darkMode:e}),(0,r.createElement)(U,{darkMode:e})),(0,r.createElement)(m,{darkMode:e}))}},19322(e,t,a){a.d(t,{A:()=>n});var r=a(51609);const n=({className:e})=>(0,r.createElement)("div",{className:`shimmer rounded ${e}`})},27235(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},50180(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},79804(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},80827(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},85731(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},98445(e,t,a){a.d(t,{A:()=>r});const r=(0,a(4485).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);