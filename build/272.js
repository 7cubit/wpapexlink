"use strict";(globalThis.webpackChunkwp_apexlink=globalThis.webpackChunkwp_apexlink||[]).push([[272],{46272(e,t,a){a.r(t),a.d(t,{default:()=>_});var n=a(51609),r=a(27723),l=a(46858),i=a(36017);const s=(0,a(4485).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var o=a(14539),c=a(88676),d=a(8723),g=a(97213),m=a(86087);const p=({text:e,children:t,darkMode:a})=>{const[r,l]=(0,m.useState)(!1);return(0,n.createElement)("div",{className:"relative inline-flex items-center group"},t||(0,n.createElement)(g.A,{className:"w-4 h-4 cursor-help "+(a?"text-gray-500 hover:text-indigo-400":"text-gray-400 hover:text-indigo-500")}),(0,n.createElement)("div",{className:`\n                absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-3 w-48 rounded-xl text-xs font-medium leading-relaxed shadow-2xl pointer-events-none transition-all duration-300 z-50\n                ${a?"bg-gray-800 text-gray-200 border-gray-700":"bg-gray-900 text-white border-gray-800"}\n                border opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0\n            `},e,(0,n.createElement)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent "+(a?"border-t-gray-800":"border-t-gray-900")})))};var x=a(97665),b=a(33930),y=a(57097),u=a(90888);const _=({darkMode:e,setDarkMode:t,readOnly:a})=>{const g=(0,x.jE)(),[_,w]=(0,m.useState)("general"),[k,h]=(0,m.useState)(!1),f=window.wpApexLinkData?.apiUrl||"/wp-json/apexlink/v1",{data:v}=(0,b.I)({queryKey:["license_status"],queryFn:async()=>(await fetch(`${f}/license/status`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json()}),E="enterprise"===v?.tier||"agency"===v?.tier,{data:N,isLoading:A}=(0,b.I)({queryKey:["settings"],queryFn:async()=>(await fetch(`${f}/settings`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}})).json()}),[C,S]=(0,m.useState)({apexlink_enable_ai_reranking:!1,apexlink_batch_size:25,apexlink_silo_boost:25,apexlink_anchor_diversity_mode:"exact",apexlink_use_custom_key:!1,apexlink_openai_key:"",apexlink_gsc_client_id:"",apexlink_gsc_client_secret:"",apexlink_gsc_connected:!1,apexlink_ignore_classes:"",apexlink_white_label:!1,apexlink_read_only:!1,apexlink_min_capability:"manage_options"});(0,m.useEffect)(()=>{N&&S(N)},[N]);const j=(0,y.n)({mutationFn:async e=>(await fetch(`${f}/settings`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify(e)})).json(),onSuccess:()=>{u.Ay.success((0,r.__)("Settings saved!","wp-apexlink")),g.invalidateQueries({queryKey:["settings"]})},onError:()=>{u.Ay.error((0,r.__)("Failed to save settings.","wp-apexlink"))}});return A?(0,n.createElement)("div",{className:"p-8 text-center text-gray-500"},(0,r.__)("Loading settings...","wp-apexlink")):(0,n.createElement)("div",{className:"animate-in slide-in-from-bottom-4 duration-500"},(0,n.createElement)("h2",{className:"text-2xl font-bold mb-8 "+(e?"text-white":"text-gray-900")},(0,r.__)("Plugin Settings","wp-apexlink")),(0,n.createElement)("div",{className:"flex space-x-4 mb-8"},(0,n.createElement)("button",{onClick:()=>w("general"),className:"px-6 py-2 rounded-xl font-bold transition-all "+("general"===_?"bg-neuro-brain text-white shadow-lg shadow-indigo-500/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,r.__)("General","wp-apexlink")),E&&(0,n.createElement)("button",{onClick:()=>w("ai"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("ai"===_?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(l.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("AI Reranking (Agency)","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>w("integrations"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("integrations"===_?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(l.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("Integrations","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>w("agency"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("agency"===_?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(i.A,{className:"w-4 h-4 mr-2"}),(0,r.__)("Agency","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>w("maintenance"),className:"px-6 py-2 rounded-xl font-bold transition-all flex items-center "+("maintenance"===_?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-900")},(0,n.createElement)(s,{className:"w-4 h-4 mr-2"}),(0,r.__)("Maintenance","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-6"},"general"===_?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("h3",{className:"text-lg font-bold mb-6 flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(i.A,{className:"w-5 h-5 mr-2 text-green-500"}),(0,r.__)("General Configuration","wp-apexlink")),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Dark Appearance","wp-apexlink")),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Toggle engine dashboard appearance.","wp-apexlink"))),(0,n.createElement)("button",{onClick:()=>t(!e),className:"p-2 rounded-lg transition-all transform hover:scale-110 active:scale-95 "+(e?"bg-indigo-600 text-white shadow-indigo-900/20":"bg-white text-gray-400 border border-gray-200 shadow-sm")},e?(0,n.createElement)(o.A,{className:"w-5 h-5"}):(0,n.createElement)(c.A,{className:"w-5 h-5"}))),(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Hybrid AI Reranking","wp-apexlink")),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Uses OpenAI to refine link suggestions.","wp-apexlink"))),(0,n.createElement)("button",{onClick:()=>S(e=>({...e,apexlink_enable_ai_reranking:!e.apexlink_enable_ai_reranking})),className:"w-12 h-6 rounded-full transition-all relative "+(C.apexlink_enable_ai_reranking?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600")},(0,n.createElement)("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-all "+(C.apexlink_enable_ai_reranking?"translate-x-6":"")}))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"flex items-center text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Batch Size","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Determines how many posts the background indexer processes in one cycle. Higher values are faster but consume more server resources.","wp-apexlink")})),(0,n.createElement)("input",{type:"number",value:C.apexlink_batch_size,onChange:e=>S(t=>({...t,apexlink_batch_size:parseInt(e.target.value)})),className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Number of posts to process in a single background job.","wp-apexlink"))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"flex items-center text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Silo Boost (%)","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Prioritizes linking between posts within the same category/silo to strengthen topical authority.","wp-apexlink")})),(0,n.createElement)("input",{type:"range",min:"0",max:"100",value:C.apexlink_silo_boost,onChange:e=>S(t=>({...t,apexlink_silo_boost:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-neuro-brain"}),(0,n.createElement)("div",{className:"flex justify-between text-[10px] text-gray-400 font-bold mt-1 uppercase"},(0,n.createElement)("span",null,(0,r.__)("Off","wp-apexlink")),(0,n.createElement)("span",{className:"text-indigo-500"},C.apexlink_silo_boost,"%"),(0,n.createElement)("span",null,(0,r.__)("Strong","wp-apexlink")))),(0,n.createElement)("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700"},(0,n.createElement)("label",{className:"flex items-center text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Ignore CSS Classes","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Enter classes (e.g., .no-links) or tags (e.g., nav) to skip during indexing.","wp-apexlink")})),(0,n.createElement)("input",{type:"text",value:C.apexlink_ignore_classes,onChange:e=>S(t=>({...t,apexlink_ignore_classes:e.target.value})),placeholder:"header, footer, sidebar, .ignore-me",className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Comma-separated list of CSS classes or tags to ignore during indexing. Useful for headers, footers, or navigation menus.","wp-apexlink"))))):"integrations"===_?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("div",{className:"flex items-center justify-between mb-8"},(0,n.createElement)("h3",{className:"text-lg font-bold flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(l.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Google Search Console","wp-apexlink")),C.apexlink_gsc_connected&&(0,n.createElement)("div",{className:"bg-emerald-500/10 text-emerald-500 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-emerald-500/20"},(0,r.__)("Connected","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:`p-4 rounded-xl mb-6 ${e?"bg-indigo-900/20 border-indigo-500/30":"bg-indigo-50 border-indigo-100"} border`},(0,n.createElement)("p",{className:"text-sm "+(e?"text-indigo-300":"text-indigo-700")},(0,r.__)('Provide your Google Cloud Client ID and Secret to enable "Striking Distance" keyword intelligence.',"wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Google Client ID","wp-apexlink")),(0,n.createElement)("input",{type:"text",value:C.apexlink_gsc_client_id,onChange:e=>S(t=>({...t,apexlink_gsc_client_id:e.target.value})),placeholder:"123456789-abc.apps.googleusercontent.com",className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")})),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Google Client Secret","wp-apexlink")),(0,n.createElement)("input",{type:"password",value:C.apexlink_gsc_client_secret,onChange:e=>S(t=>({...t,apexlink_gsc_client_secret:e.target.value})),placeholder:"GOCSPX-...",className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}))),(0,n.createElement)("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700"},(0,n.createElement)("p",{className:"text-xs text-gray-500 italic"},(0,r.__)("Note: You must add your WordPress Admin URL as an authorized redirect URI in the Google Cloud Console.","wp-apexlink"))))):"agency"===_?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("h3",{className:"text-lg font-bold mb-6 flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(i.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Agency & White-Label","wp-apexlink")),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"flex items-center font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("White-Label Mode","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Removes WP ApexLink branding for a native client experience.","wp-apexlink")})),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Hides ApexLink branding and logos.","wp-apexlink"))),(0,n.createElement)("button",{onClick:()=>S(e=>({...e,apexlink_white_label:!e.apexlink_white_label})),className:"w-12 h-6 rounded-full transition-all relative "+(C.apexlink_white_label?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600")},(0,n.createElement)("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-all "+(C.apexlink_white_label?"translate-x-6":"")}))),(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"flex items-center font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Client Read-Only Mode","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Locks all settings and link approvals, preventing unintended changes by clients.","wp-apexlink")})),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Prevents changing links or settings.","wp-apexlink"))),(0,n.createElement)("button",{onClick:()=>S(e=>({...e,apexlink_read_only:!e.apexlink_read_only})),className:"w-12 h-6 rounded-full transition-all relative "+(C.apexlink_read_only?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600")},(0,n.createElement)("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-all "+(C.apexlink_read_only?"translate-x-6":"")}))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("Minimum Access Capability","wp-apexlink")),(0,n.createElement)("select",{value:C.apexlink_min_capability,onChange:e=>S(t=>({...t,apexlink_min_capability:e.target.value})),className:"w-full rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")},(0,n.createElement)("option",{value:"manage_options"},(0,r.__)("Administrator (manage_options)","wp-apexlink")),(0,n.createElement)("option",{value:"edit_posts"},(0,r.__)("Editor (edit_posts)","wp-apexlink"))),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Determine which users can access the ApexLink dashboard.","wp-apexlink"))))):"maintenance"===_?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("h3",{className:"text-lg font-bold mb-6 flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(s,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Data & Portability","wp-apexlink")),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:"flex gap-4"},(0,n.createElement)("button",{onClick:async()=>{const e=await fetch(`${f}/settings/export`,{headers:{"X-WP-Nonce":window.wpApexLinkData?.nonce}}),t=await e.json(),a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=`apexlink-settings-${(new Date).toISOString().split("T")[0]}.json`,l.click(),u.Ay.success((0,r.__)("Settings exported!","wp-apexlink"))},className:"flex-1 px-6 py-3 rounded-xl font-bold transition-all border "+(e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-200 text-gray-600 hover:bg-gray-50")},(0,r.__)("Export Settings (JSON)","wp-apexlink")),(0,n.createElement)("button",{onClick:()=>{if(a)return void u.Ay.error((0,r.__)("Import disabled in Read-Only mode.","wp-apexlink"));const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=async e=>{try{const t=JSON.parse(e.target.result),a=await fetch(`${f}/settings/import`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify(t)});(await a.json()).success&&(u.Ay.success((0,r.__)("Settings imported! Reloading...","wp-apexlink")),setTimeout(()=>window.location.reload(),1500))}catch(e){u.Ay.error((0,r.__)("Invalid JSON file.","wp-apexlink"))}},a.readAsText(t)},e.click()},className:"flex-1 px-6 py-3 rounded-xl font-bold transition-all border "+(e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-200 text-gray-600 hover:bg-gray-50")},(0,r.__)("Import Settings","wp-apexlink"))))):"ai"===_?(0,n.createElement)("div",{className:(e?"bg-gray-800 border-gray-700":"bg-white border-gray-100")+" rounded-2xl shadow-sm border p-4 sm:p-8"},(0,n.createElement)("div",{className:"flex items-center justify-between mb-8"},(0,n.createElement)("h3",{className:"text-lg font-bold flex items-center "+(e?"text-gray-100":"text-gray-800")},(0,n.createElement)(l.A,{className:"w-5 h-5 mr-2 text-indigo-500"}),(0,r.__)("Agency BYOK (Bring Your Own Key)","wp-apexlink")),C.apexlink_use_custom_key&&(0,n.createElement)("div",{className:"bg-emerald-500/10 text-emerald-500 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-emerald-500/20"},(0,r.__)("Unlimited Mode Active","wp-apexlink"))),(0,n.createElement)("div",{className:"space-y-6 max-w-2xl"},(0,n.createElement)("div",{className:`p-4 rounded-xl mb-6 ${e?"bg-indigo-900/20 border-indigo-500/30":"bg-indigo-50 border-indigo-100"} border`},(0,n.createElement)("p",{className:"text-sm "+(e?"text-indigo-300":"text-indigo-700")},(0,r.__)("As an Agency user, you can use your own OpenAI API key. This bypasses the plugin credit system and allows for unlimited AI reranking for high-volume sites.","wp-apexlink"))),(0,n.createElement)("div",{className:"flex items-center justify-between p-4 rounded-xl border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-100")},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"flex items-center font-semibold "+(e?"text-white":"text-gray-900")},(0,r.__)("Use Custom OpenAI Key","wp-apexlink"),(0,n.createElement)(p,{darkMode:e,text:(0,r.__)("Bypass the standard ApexLink credit system by connecting your own billing. Ideal for high-traffic agency sites.","wp-apexlink")})),(0,n.createElement)("div",{className:"text-sm text-gray-500"},(0,r.__)("Enable to use your own billing for AI Rerank.","wp-apexlink"))),(0,n.createElement)("button",{onClick:()=>S(e=>({...e,apexlink_use_custom_key:!e.apexlink_use_custom_key})),className:"w-12 h-6 rounded-full transition-all relative "+(C.apexlink_use_custom_key?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600")},(0,n.createElement)("div",{className:"absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-all "+(C.apexlink_use_custom_key?"translate-x-6":"")}))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-semibold mb-2 "+(e?"text-gray-300":"text-gray-700")},(0,r.__)("OpenAI API Key","wp-apexlink")),(0,n.createElement)("div",{className:"flex gap-2"},(0,n.createElement)("input",{type:"password",value:C.apexlink_openai_key,onChange:e=>S(t=>({...t,apexlink_openai_key:e.target.value})),placeholder:(0,r.__)("sk-...","wp-apexlink"),className:"flex-grow rounded-xl shadow-sm focus:ring-neuro-brain focus:border-neuro-brain "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300")}),(0,n.createElement)("button",{onClick:async()=>{h(!0);try{const e=await fetch(`${f}/settings/ai/test`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApexLinkData?.nonce},body:JSON.stringify({key:C.apexlink_openai_key})}),t=await e.json();t.success?u.Ay.success((0,r.__)("Connection successful! Unlimited mode active.","wp-apexlink")):u.Ay.error(t.error||(0,r.__)("Connection failed.","wp-apexlink"))}catch(e){u.Ay.error((0,r.__)("An error occurred during testing.","wp-apexlink"))}finally{h(!1)}},disabled:k,className:"px-4 py-2 rounded-xl font-bold text-xs transition-all border "+(e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-200 text-gray-600 hover:bg-gray-50")},k?(0,n.createElement)(d.A,{className:"w-4 h-4 animate-spin"}):(0,r.__)("Test Connection","wp-apexlink"))),(0,n.createElement)("p",{className:"mt-2 text-xs text-gray-400"},(0,r.__)("Your key is encrypted before being stored on your server.","wp-apexlink"))))):null,(0,n.createElement)("div",{className:"flex justify-end"},(0,n.createElement)("button",{onClick:()=>{j.mutate(C)},disabled:j.isLoading||a,className:"flex items-center px-8 py-3 rounded-xl font-bold transition-all shadow-lg hover:shadow-xl active:scale-95 disabled:opacity-50 "+(e?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-gray-900 hover:bg-black text-white")},(0,n.createElement)(s,{className:"w-4 h-4 mr-2"}),j.isLoading?(0,r.__)("Saving...","wp-apexlink"):a?(0,r.__)("Read-Only Mode","wp-apexlink"):(0,r.__)("Save Settings","wp-apexlink")))))}},97213(e,t,a){a.d(t,{A:()=>n});const n=(0,a(4485).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}}]);